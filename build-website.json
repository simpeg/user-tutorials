{"version":2,"kind":"Article","sha256":"d34fa4138add327351175f680cfc17acbb9084bbcd9ed8f45a4db651fd12aaba","slug":"build-website","location":"/notebooks/contributing/build_website.md","dependencies":[],"frontmatter":{"title":"Building the User Tutorials Website Locally","content_includes_title":false,"authors":[{"id":"devincowan","nameParsed":{"literal":"Devin Cowan","given":"Devin","family":"Cowan"},"name":"Devin Cowan","orcid":"0000-0002-0089-402X","roles":["Writing – original draft","Writing – review & editing","Software"],"affiliations":["ubc"]},{"id":"lindseyheagy","nameParsed":{"literal":"Lindsey Heagy","given":"Lindsey","family":"Heagy"},"name":"Lindsey Heagy","orcid":"0000-0002-1551-5926","roles":["Supervision","Project administration","Software"],"affiliations":["ubc"]},{"id":"santisoler","nameParsed":{"literal":"Santiago Soler","given":"Santiago","family":"Soler"},"name":"Santiago Soler","orcid":"0000-0001-9202-5317","roles":["Writing – review & editing","Software"],"affiliations":["ubc"]},{"id":"thibautastic","nameParsed":{"literal":"Thibaut Astic","given":"Thibaut","family":"Astic"},"name":"Thibaut Astic","roles":["Writing – original draft"],"affiliations":["kobold"]}],"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true},"code":{"id":"MIT","url":"https://opensource.org/licenses/MIT","name":"MIT License","free":true,"osi":true}},"github":"https://github.com/simpeg/user-tutorials","subject":"SimPEG User Tutorials","keywords":["geophysics","inversions","python","open-source"],"affiliations":[{"id":"ubc","name":"University of British Columbia","department":"Department of Earth, Ocean and Atmospheric Sciences","address":"2020 – 2207 Main Mall","city":"Vancouver","state":"British Columbia","postal_code":"V6T 1Z4","country":"Canada","isni":"0000 0001 2288 9830","ror":"https://ror.org/03rmrcq20","phone":"604 822 2449"},{"id":"kobold","name":"Kobold Metals"}],"numbering":{"title":{"offset":1}},"source_url":"https://github.com/simpeg/user-tutorials/blob/main/notebooks/contributing/build_website.md","edit_url":"https://github.com/simpeg/user-tutorials/edit/main/notebooks/contributing/build_website.md","exports":[{"format":"md","filename":"build_website.md","url":"/user-tutorials/build/build_website-1ca9cb387940e5297aa57ba3e18a707c.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Here, we provide instructions for setting up an appropriate Python environment and building the SimPEG user tutorials website locally with ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"IwDTCSyLhW"},{"type":"link","url":"https://mystmd.org/","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"MyST","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"MwpNo9Jqmk"}],"urlSource":"https://mystmd.org/","key":"kDIm1zdN4S"},{"type":"text","value":".","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"uBXzFFoAbU"}],"key":"EOqXhpCjim"},{"type":"heading","depth":2,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Step 1: Cloning the GitHub Repository","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"awYlEB6R3j"}],"identifier":"step-1-cloning-the-github-repository","label":"Step 1: Cloning the GitHub Repository","html_id":"step-1-cloning-the-github-repository","implicit":true,"key":"P7IDQ4i8wL"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"The URL for the SimPEG user tutorials GitHub repository is: ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"mrOOAYfidh"},{"type":"link","url":"https://github.com/simpeg/user-tutorials/","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"https://​github​.com​/simpeg​/user​-tutorials/","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"TOZpxnAmpH"}],"urlSource":"https://github.com/simpeg/user-tutorials/","error":true,"key":"GLXaA8SZkc"},{"type":"text","value":". If using the Git Bash shell:","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"Y0XveS58V7"}],"key":"tmqhuhc2EP"},{"type":"code","lang":"bash","value":"git clone https://github.com/simpeg/user-tutorials\ncd user-tutorials","position":{"start":{"line":10,"column":1},"end":{"line":13,"column":1}},"key":"S4B5S7vP8w"},{"type":"heading","depth":2,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Step 2: Setting Up a Python Environment","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"p0BDvhjtPj"}],"identifier":"step-2-setting-up-a-python-environment","label":"Step 2: Setting Up a Python Environment","html_id":"step-2-setting-up-a-python-environment","implicit":true,"key":"VV0x0NEAJK"},{"type":"paragraph","position":{"start":{"line":17,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"The Jupyter notebooks containing the tutorials are maintained to run properly using the ","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"P3kLbpsBHg"},{"type":"link","url":"https://github.com/simpeg/simpeg/releases","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"latest release of SimPEG","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"bUKMeOWuKs"}],"urlSource":"https://github.com/simpeg/simpeg/releases","error":true,"key":"z4QUShJK7L"},{"type":"text","value":".\nNotebooks may not run correctly if SimPEG is being imported from an earlier release or development branch.\nThe ","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"dwd9vsmUt7"},{"type":"link","url":"https://mystmd.org/guide/quickstart","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"mystmd","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"Gf2NlbaQmh"}],"urlSource":"https://mystmd.org/guide/quickstart","key":"MMapuM4mjv"},{"type":"text","value":" and ","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"EiPCI5WLKQ"},{"type":"link","url":"https://nodejs.org/api/packages.html","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"nodejs","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"cBgX0t10my"}],"urlSource":"https://nodejs.org/api/packages.html","key":"nXAaSvM23w"},{"type":"text","value":" are also required to build the website locally.","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"TvsxZPbmoy"}],"key":"AwoKAlxdIO"},{"type":"paragraph","position":{"start":{"line":21,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"We advise building a Python environment from the ","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"hRG8SHjjng"},{"type":"inlineCode","value":"environment.yml","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"nED4jdxzLz"},{"type":"text","value":" file in the root directory of the repository.\nTo create the ","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"FQdWfWnyiJ"},{"type":"inlineCode","value":"simpeg-user-tutorials","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"IaToDjq910"},{"type":"text","value":" environment using conda:","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"TYdO8ecGtU"}],"key":"OzgRuFU7t9"},{"type":"code","lang":"bash","value":"conda env create -f environment.yml","position":{"start":{"line":24,"column":1},"end":{"line":26,"column":1}},"key":"kSqDC19xhd"},{"type":"paragraph","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"text","value":"Once built, you can activate using:","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"YxUnOo7FzT"}],"key":"xLzhXsBqJX"},{"type":"code","lang":"bash","value":"conda activate simpeg-user-tutorials","position":{"start":{"line":30,"column":1},"end":{"line":32,"column":1}},"key":"yk610UjJ5F"},{"type":"heading","depth":2,"position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"text","value":"Step 3: Build and Execution Commands","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"qLRAUhVieA"}],"identifier":"step-3-build-and-execution-commands","label":"Step 3: Build and Execution Commands","html_id":"step-3-build-and-execution-commands","implicit":true,"key":"VvUfMIChTv"},{"type":"paragraph","position":{"start":{"line":36,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"text","value":"The SimPEG user tutorials are a collection of ","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"wYXsOwdW85"},{"type":"link","url":"https://jupyter.org/","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"text","value":"Jupyter Notebook","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"zR9se1rJ6w"}],"urlSource":"https://jupyter.org/","key":"PYLjuGIDvA"},{"type":"text","value":" (and ","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"E0hnaY64OG"},{"type":"link","url":"https://www.markdownguide.org/getting-started/","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"text","value":"Markdown","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"ckq8G9bcbg"}],"urlSource":"https://www.markdownguide.org/getting-started/","key":"PUJjyP73y2"},{"type":"text","value":") files,\nwhich ","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"jeY4SpPF81"},{"type":"link","url":"https://mystmd.org","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"text","value":"MyST","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"LBedDFlrXc"}],"urlSource":"https://mystmd.org","key":"LRM0uI5wRV"},{"type":"text","value":" builds into a website. Here, we describe the commands that contributors should be familiar with.","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"soDz9oW2PL"}],"key":"OWGJSgzddY"},{"type":"admonition","kind":"important","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Important","key":"dYKKpMkjC1"}],"key":"nA1AzUWnUj"},{"type":"paragraph","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"children":[{"type":"text","value":"The tutorial notebooks, including their states, are tracked by GitHub. When the SimPEG user tutorials repository was cloned, all notebooks had been run and saved. Therefore, you do not need to rerun all of the notebooks prior to building the website!","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"key":"LVYP8ofDil"}],"key":"HE9jf0HFjQ"}],"key":"avmym230ua"},{"type":"heading","depth":3,"position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"children":[{"type":"text","value":"Locally Build and Serve Website","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"ScRThwyFov"}],"identifier":"locally-build-and-serve-website","label":"Locally Build and Serve Website","html_id":"locally-build-and-serve-website","implicit":true,"key":"WNaWHMoh7C"},{"type":"paragraph","position":{"start":{"line":45,"column":1},"end":{"line":48,"column":1}},"children":[{"type":"text","value":"The following command will build the website and serve it locally.\nThis will allow you to preview the website and observe any changes to notebooks on the fly.\nTo locally build and serve the website:\nthe website:","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"key":"aa5qLW5ZON"}],"key":"pfZGzMq2xu"},{"type":"code","lang":"bash","value":"myst start","position":{"start":{"line":50,"column":1},"end":{"line":52,"column":1}},"key":"V8iTZoN8hh"},{"type":"paragraph","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"children":[{"type":"text","value":"Next, follow the instructions prompted by the command to launch the local build in your brower.","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"key":"DN0m363tS8"}],"key":"kcw39aT292"},{"type":"heading","depth":3,"position":{"start":{"line":56,"column":1},"end":{"line":56,"column":1}},"children":[{"type":"text","value":"Build Only","position":{"start":{"line":56,"column":1},"end":{"line":56,"column":1}},"key":"Hi9b9Ihj46"}],"identifier":"build-only","label":"Build Only","html_id":"build-only","implicit":true,"key":"dkP0Ai99lF"},{"type":"paragraph","position":{"start":{"line":58,"column":1},"end":{"line":59,"column":1}},"children":[{"type":"text","value":"The following command will build the website and store the HTML files in\na new ","position":{"start":{"line":58,"column":1},"end":{"line":58,"column":1}},"key":"LUkJ4E959s"},{"type":"inlineCode","value":"_build","position":{"start":{"line":58,"column":1},"end":{"line":58,"column":1}},"key":"M3XSKAa8Df"},{"type":"text","value":" folder:","position":{"start":{"line":58,"column":1},"end":{"line":58,"column":1}},"key":"kXlN8YIoOt"}],"key":"en9UNb6hNg"},{"type":"code","lang":"bash","value":"myst build --html","position":{"start":{"line":61,"column":1},"end":{"line":63,"column":1}},"key":"xG5UwNzQOp"},{"type":"heading","depth":3,"position":{"start":{"line":65,"column":1},"end":{"line":65,"column":1}},"children":[{"type":"text","value":"Clean Cached Builds","position":{"start":{"line":65,"column":1},"end":{"line":65,"column":1}},"key":"G3DSaQgaky"}],"identifier":"clean-cached-builds","label":"Clean Cached Builds","html_id":"clean-cached-builds","implicit":true,"key":"LFaq85T8si"},{"type":"code","lang":"bash","value":"myst clean --all","position":{"start":{"line":67,"column":1},"end":{"line":69,"column":1}},"key":"xqHpupfFjQ"},{"type":"heading","depth":3,"position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"children":[{"type":"text","value":"Rerunning Notebooks","position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"key":"p4T5o9HJo8"}],"identifier":"rerunning-notebooks","label":"Rerunning Notebooks","html_id":"rerunning-notebooks","implicit":true,"key":"oBDSumVPfj"},{"type":"paragraph","position":{"start":{"line":73,"column":1},"end":{"line":73,"column":1}},"children":[{"type":"text","value":"When making alterations and rerunning notebooks, we typically do so by launching Jupyter Notebooks:","position":{"start":{"line":73,"column":1},"end":{"line":73,"column":1}},"key":"h714tpPTbX"}],"key":"zBLagMM6EV"},{"type":"code","lang":"bash","value":"jupyter notebook","position":{"start":{"line":75,"column":1},"end":{"line":77,"column":1}},"key":"DWT8qSbJPR"},{"type":"paragraph","position":{"start":{"line":79,"column":1},"end":{"line":80,"column":1}},"children":[{"type":"text","value":"However, we can rerun a notebook and overwrite its output cells in place using ","position":{"start":{"line":79,"column":1},"end":{"line":79,"column":1}},"key":"szY3OeZc9Y"},{"type":"inlineCode","value":"nbconvert","position":{"start":{"line":79,"column":1},"end":{"line":79,"column":1}},"key":"IYjWDPDdBB"},{"type":"text","value":".\nTo rerun a single notebook, use:","position":{"start":{"line":79,"column":1},"end":{"line":79,"column":1}},"key":"iGRQLVlL2M"}],"key":"jov4UNlqdR"},{"type":"code","lang":"bash","value":"jupyter nbconvert --to notebook --execute --inplace notebook.ipynb","position":{"start":{"line":82,"column":1},"end":{"line":84,"column":1}},"key":"LiI2hldbwj"},{"type":"paragraph","position":{"start":{"line":86,"column":1},"end":{"line":87,"column":1}},"children":[{"type":"text","value":"We may also want to rerun all notebooks in the repository.\nTo rerun all notebooks, use:","position":{"start":{"line":86,"column":1},"end":{"line":86,"column":1}},"key":"aJBLGw6con"}],"key":"nrCgTPD700"},{"type":"code","lang":"bash","value":"jupyter nbconvert --to notebook --execute --inplace notebooks/**/*.ipynb","position":{"start":{"line":89,"column":1},"end":{"line":91,"column":1}},"key":"XjKRrqo5yc"},{"type":"admonition","kind":"danger","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Danger","key":"GqqSOksUev"}],"key":"YYvynb24GU"},{"type":"paragraph","position":{"start":{"line":94,"column":1},"end":{"line":95,"column":1}},"children":[{"type":"text","value":"Rerunning all notebooks is a computationally intensive task. Some notebooks\nrequire significant amount of memory to allocate large sensitivity matrices.","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"key":"b32WVFPDlW"}],"key":"ZDeKUU6pLT"}],"key":"SV4zIOkDUi"},{"type":"admonition","position":{"start":{"line":98,"column":1},"end":{"line":101,"column":1}},"children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Important","key":"ea7cRFjmDV"}],"key":"Q9pDY4mAqd"},{"type":"paragraph","position":{"start":{"line":98,"column":1},"end":{"line":101,"column":1}},"children":[{"type":"text","value":"If you are using bash as your shell, make sure to run ","position":{"start":{"line":98,"column":1},"end":{"line":98,"column":1}},"key":"X3aE9MVejG"},{"type":"inlineCode","value":"shopt -s globstar","position":{"start":{"line":98,"column":1},"end":{"line":98,"column":1}},"key":"dQPlFVGbaS"},{"type":"text","value":" to enable the ","position":{"start":{"line":98,"column":1},"end":{"line":98,"column":1}},"key":"Cc48aevApI"},{"type":"inlineCode","value":"globstar","position":{"start":{"line":98,"column":1},"end":{"line":98,"column":1}},"key":"ECKNuZ6gis"},{"type":"text","value":" feature that allows the use of ","position":{"start":{"line":98,"column":1},"end":{"line":98,"column":1}},"key":"k1LOha0wT3"},{"type":"inlineCode","value":"**","position":{"start":{"line":98,"column":1},"end":{"line":98,"column":1}},"key":"NDqO5cHUOO"},{"type":"text","value":" for\nfilename expansion.","position":{"start":{"line":98,"column":1},"end":{"line":98,"column":1}},"key":"uLKZ7w6lDv"}],"key":"E9pFd1kkbO"}],"kind":"important","class":"simple","key":"dq2nzOBzoq"}],"key":"cVo5BSaeMO"}],"key":"fMsgLwgITk"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Contributing to User Tutorials","url":"/contributing-index","group":"PGI Inversion"},"next":{"title":"Tutorial Structure and Formatting Requirements","url":"/formatting","group":"PGI Inversion"}}},"domain":"http://localhost:3000"}